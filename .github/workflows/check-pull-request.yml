---
name: Check Pull Request

on:
  pull_request:
    types:
      - opened
      - reopened
      - synchronize

env:
  # Terraform environment variables
  TF_CLI_ARGS_init: "-get=true -upgrade=true -input=false -no-color"
  TF_CLI_ARGS_plan: "-input=false -no-color"
  TF_CLI_ARGS_apply: "-input=false -no-color"
  TF_IN_AUTOMATION: true

jobs:
  check-pull-request:
    uses: .github/workflows/terraform-plan.yml
    with:
      post_comment: true
      environment: development
      terraform_version: latest
