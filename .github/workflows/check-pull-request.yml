---
name: Check Pull Request

on:
  pull_request:
    types:
      - opened
      - reopened
      - synchronize

jobs:
  check-pull-request:
    uses: spacedog/github-workflows/.github/workflows/terraform-plan.yml@main
    with:
      post_comment: true
      environment: development
      terraform_version: latest
    secrets:
      aws_access_key_id: "tss.. this is a secret"
      aws_secret_access_key: "tss.. this is a secret"
      extra_env: |
        TF_VAR_secret1=${{ secrets.secret1 }}
        TF_VAR_secret2={\"dev\"=\"${{ secrets.secret2 }}\"}
